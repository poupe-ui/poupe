# TailwindCSS Plugin Examples

This directory contains standalone example projects that demonstrate different
usage patterns of `@poupe/tailwindcss`. Each example has its own `package.json`
and generates `output.css` files for human viewing in browsers.

## Structure

### `plugin-workflow/`
- **Purpose**: Demonstrates the `@plugin` workflow (direct plugin import in CSS)
- **Config**: Uses `@plugin "../../dist/index.mjs"` directly in `input.css`
- **Content**: Includes `--content` flag for class detection
- **Build**: Generates `output.css` automatically during package build
- **View**: Open `index.html` in browser to see styled components

### `flat-plugin/`
- **Purpose**: Demonstrates the flat plugin (default export via config)
- **Config**: Uses `import flatPlugin from '@poupe/tailwindcss'` in
  `tailwind.config.js`
- **Usage**: Material Design utilities with simplified API
- **Build**: Generates `output.css` automatically during package build
- **View**: Open `index.html` in browser to see styled components

### `theme-plugin/`
- **Purpose**: Demonstrates the theme plugin (named export via config)
- **Config**: Uses `import { themePlugin } from '@poupe/tailwindcss'` in
  `tailwind.config.js`
- **Usage**: Advanced theming capabilities with full Material Design system
- **Build**: Generates `output.css` automatically during package build
- **View**: Open `index.html` in browser to see styled components

## Automatic Generation

Example CSS files are generated automatically when you build the package:

```bash
# From package root
pnpm build
```

This runs the build process which:
1. Builds the plugin (`dist/index.mjs`)
2. Generates theme assets (`src/assets/*.css`) 
3. Generates example CSS files (`examples/*/output.css`)

## Manual Building

You can also build examples manually:

```bash
# Build specific example manually
cd examples/flat-plugin
pnpx @tailwindcss/cli -i input.css -o output.css

# Or use the package script
pnpm run build
```

## Watch Mode

For development, you can use watch mode:

```bash
cd examples/flat-plugin
pnpm run watch
# CSS will rebuild automatically when files change
```

## Testing Integration

These examples are integrated with the test suite in `src/__tests__/cli.test.ts`:

### What Tests Validate
- **Plugin Loading**: Ensures plugins can be imported and configured correctly
- **TailwindCSS Integration**: Validates `@plugin` and `@config` workflows work
- **CSS Generation**: Confirms CSS is generated without syntax errors
- **Output Availability**: Checks that `output.css` files exist for human viewing

### Test vs Build Separation
- **Tests**: Validate plugin functionality using temporary files
- **Build Process**: Generates persistent `output.css` files for human viewing
- **No Conflicts**: Tests don't interfere with the example files you can view

### Running Tests

```bash
# From package root - runs all tests including CLI validation
pnpm test

# Tests will validate existing output.css files generated by build process
# No temporary files are left behind in examples/
```

## File Structure

Each example directory contains:

```
examples/flat-plugin/
├── package.json          # Stand-alone project configuration
├── tailwind.config.js    # TailwindCSS configuration with plugin
├── input.css            # Source CSS with @import and @config
├── index.html           # Demo HTML with utility classes
└── output.css           # Generated CSS (auto-created by build)
```

## Dependencies

Each example `package.json` includes:
- **`@tailwindcss/cli`**: For building CSS
- **Scripts**: `build` and `watch` commands using `pnpx`
- **Type**: `"module"` for ESM compatibility

Examples rely on the parent package's plugin files via relative imports, so
they work without installing dependencies locally.
